
- lag의 실시간 확인이 필요할 경우 ElasticSearch, InfluxDB에 넣어 Grafana로 확인 가능 
- 다만 컨슈머 단계에서 모니터링 하는 것은 운영요소가 많이 들어감(컨슈머에 DI)
- 이에 kafka를 모니터링 할 수 있는 burrow를 사용

### Burrow의 특징
- 멀티 카프카 클러스터 지원 : 카프카 클러스터가 여러개여도 하나의 burrow 모니터링 가능
- sliding window를 통한 Consumer의 status 확인 : Error, Warning, ok 로 상태 확인 가능 
- HTTP api 제공 


### 테일/헤드 영역
- 테일 영역 : 압축 정책에 의해 압축이 완료된 레코드, **클린 로그**라고도 하며 중복 메시지가 없음
- 헤드 영역 : 압축되기전 레코드로 **더티 로그**라고도 하며 중복 메시지가 있음
- 데이터의 압축 시점은 min.cleanable.dirty.ratio 옵션값을 따름
- min.cleanable.dirty.ratio : 액티브 세그먼트를 제외한 남아 있는 테일 영역의 래코드 수와 헤드 영역 레코드 수의 비율 
- 예를 들면 0.5로 설정하면 테일 영역과 헤드 영역의 래코드 수가 같아지면 실행
- 0.9로 설정시 한번 합축할때 많이 압축하므로 압축효과가 좋으나 그만큼 데이터가 많이 차야지 압축을 하여 용량 효율이 좋지 않음